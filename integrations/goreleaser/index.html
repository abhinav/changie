<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>GoReleaser - Changie</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://changie.dev/favicon.png><link rel=stylesheet href=/css/style.min.3c1a2026df4402d20378fbbf40615e9865c7425f35dbe4c2d607f2a200506ed0.css></head><body class="page page-default-single"><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-guide><a href=/guide/><span>Guide</span></a></li><li class=menu-item-integrations><a href=/integrations/><span>Integrations</span></a></li><li class=menu-item-cli><a href=/cli/><span>CLI</span></a></li><li class=menu-item-config><a href=/config/><span>Config</span></a></li><li class=menu-item-github><a href=https://github.com/miniscruff/changie><span>Github</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div class=logo><a href=https://changie.dev/><img alt=Logo src=/images/logo.svg></a></div><div class=logo-mobile><a href=https://changie.dev/><img alt=Logo src=/images/logo.svg></a></div><div id=main-menu class=main-menu><ul><li class=menu-item-guide><a href=/guide/><span>Guide</span></a></li><li class=menu-item-integrations><a href=/integrations/><span>Integrations</span></a></li><li class=menu-item-cli><a href=/cli/><span>CLI</span></a></li><li class=menu-item-config><a href=/config/><span>Config</span></a></li><li class=menu-item-github><a href=https://github.com/miniscruff/changie><span>Github</span></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="container pt-2 pt-md-6 pb-3 pb-md-6"><div class=row><div class="col-12 col-md-3 mb-3"><div class=sidebar><div class=docs-menu><h4>Integrations</h4><ul><li><a href=https://changie.dev/integrations/release-trigger/>Release Trigger</a></li><li class=active><a href=https://changie.dev/integrations/goreleaser/>GoReleaser</a></li><li><a href=https://changie.dev/integrations/nodejs/>NodeJS</a></li></ul></div></div></div><div class="col-12 col-md-9"><h1 class=title>GoReleaser</h1><div class="content anchor-link-enabled"><p>Changie itself uses <a href=https://goreleaser.com>GoReleaser</a> and can be integrated
with a few steps.</p><p>First disable GoReleaser from generating its own release notes by adding this to your config.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>changelog</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>skip</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></div><p>By default GoReleaser expects to release the current tag but we can let GitHub
create one for us during the release.
To do this set the goreleaser current tag environment variable using changie latest.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GORELEASER_CURRENT_TAG</span><span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span>changie latest<span class=k>)</span><span class=s2>&#34;</span>
</span></span></code></pre></div><p>Finally we can run GoReleaser, you will need to add two parameters, release notes and skip validate.
We need to use skip validate because we skip the git tag.
If you choose to tag the commit instead you do not need to use this.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>goreleaser --release-notes<span class=o>=</span><span class=s2>&#34;changes/</span><span class=k>$(</span>changie latest<span class=k>)</span><span class=s2>&#34;</span> --skip-validate
</span></span></code></pre></div><p>If you would like to use the goreleaser github action you can reference <a href=https://github.com/miniscruff/changie/blob/main/.github/workflows/release.yml>release.yaml</a>.</p></div></div></div></div></div></div><footer class="mx-auto text-center border-top"><div class=pt-1><span pr-1>Help make the documentation better by</span>
<span pr-1><a href=https://github.com/miniscruff/changie/edit/main/website/content/integrations/goreleaser.md>editing this page</a></span>
<span pr-1>or by</span>
<span pr-1><a href="https://github.com/miniscruff/changie/issues/new?title=Documentation+issue+in+integrations%2Fgoreleaser.md">reporting an issue.</a></span></div><div class=p-1><span pr-1><a href=https://github.com/zerostaticthemes/hugo-whisper-theme>Base Theme</a></span>
<span pr-1>by</span>
<span pr-1><a href=https://www.zerostatic.io>zerostatic</a></span></div></footer><script type=text/javascript src=/js/scripts.min.bafc052229b4b40bf03c477d31c5cdd9352ece8afbadf35ab97ed14495098fc9.js></script></body></html>